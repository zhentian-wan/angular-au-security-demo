{"version":3,"file":"/Users/zhentianwan/Documents/Programming/Angular2/angular-security-course/server/valid-session.middle.ts","sources":["/Users/zhentianwan/Documents/Programming/Angular2/angular-security-course/server/valid-session.middle.ts"],"names":[],"mappings":";;AACA,iDAA6C;AAGhC,QAAA,cAAc,GAAG,UAAC,GAAY,EAAE,GAAa,EAAE,IAAI;IAC9D,IAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;IAC3C,IAAM,OAAO,GAAG,4BAAY,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;IACvD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QACb,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IACtB,CAAC;IAAC,IAAI,CAAC,CAAC;QACN,IAAI,EAAE,CAAC;IACT,CAAC;AACH,CAAC,CAAC","sourcesContent":["\nimport {sessionStore} from './session-store';\nimport {Response, Request} from 'express';\n\nexport const isSessionValid = (req: Request, res: Response, next) => {\n  const sessionId = req.cookies['SESSIONID'];\n  const isValid = sessionStore.isSessionValid(sessionId);\n  if (!isValid) {\n    res.sendStatus(403);\n  } else {\n    next();\n  }\n};\n"]}
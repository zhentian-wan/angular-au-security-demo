{"version":3,"file":"/Users/zhentianwan/Documents/Programming/Angular2/angular-security-course/server/session-store.ts","sources":["/Users/zhentianwan/Documents/Programming/Angular2/angular-security-course/server/session-store.ts"],"names":[],"mappings":";;AAAA,qCAAkC;AAElC;IAAA;QACU,aAAQ,GAA6B,EAAE,CAAC;IAelD,CAAC;IAbC,oCAAa,GAAb,UAAc,SAAiB,EAAE,IAAU;QACzC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,IAAI,iBAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC1D,CAAC;IAED,0CAAmB,GAAnB,UAAoB,SAAiB;QACnC,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACzC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC,IAAI,GAAG,SAAS,CAAC;IACnE,CAAC;IAED,qCAAc,GAAd,UAAe,SAAiB;QAC9B,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACzC,MAAM,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,EAAE,CAAC;IACtC,CAAC;IACH,mBAAC;AAAD,CAAC,AAhBD,IAgBC;AAED,gCAAgC;AACnB,QAAA,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC","sourcesContent":["import {Session} from './session';\nimport {User} from '../src/app/model/user';\nclass SessionStore {\n  private sessions: {[key: string]: Session} = {};\n\n  createSession(sessionId: string, user: User) {\n    this.sessions[sessionId] = new Session(sessionId, user);\n  }\n\n  findUserBySessionId(sessionId: string): User | undefined {\n    const session = this.sessions[sessionId];\n    return this.isSessionValid(sessionId) ? session.user : undefined;\n  }\n\n  isSessionValid(sessionId: string): boolean {\n    const session = this.sessions[sessionId];\n    return session && session.isValid();\n  }\n}\n\n// We want only global singleton\nexport const sessionStore = new SessionStore();\n"]}